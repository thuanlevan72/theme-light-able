{% extends "partials/layout.html" %} {% load static %}
{% block css1 %}
<link rel="stylesheet" href={% static "/css/plugins/style.css" %} />
{% endblock css1 %}
{% block content %}
<div class="row">
  <!-- [ basic-table ] start -->
  <div class="col-xl-12">
    <div class="card">
      <div class="card-header">
        <h5>Fetch API</h5>
      </div>
      <div class="card-body table-border-style">
        <div class="table-responsive">
          <table class="table" id="pc-dt-fetchapi"> </table>
        </div>
      </div>
    </div>
  </div>
  <!-- [ basic-table ] end -->
</div>
{% endblock content %}
{% block js2 %}
<script src={% static "/js/plugins/simple-datatables.js" %}></script>
<script>
  fetch('/static/json/datatable.json')
    .then((response) => response.json())
    .then((data) => {
      if (!data.length) {
        return;
      }

      let table = new simpleDatatables.DataTable('#pc-dt-fetchapi', {
        data: {
          headings: Object.keys(data[0]),
          data: data.map((item) => Object.values(item))
        }
      });
    });
</script>
{% endblock js2 %}